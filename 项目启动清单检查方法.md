# 项目启动清单检查方法

## 1. 环境检查

### 1.1 后端环境检查
```bash
# 检查PHP版本
php --version

# 检查MySQL服务状态
brew services list | grep mysql

# 检查Composer是否安装
composer --version
```

### 1.2 前端环境检查
```bash
# 检查Node.js版本
node --version

# 检查npm版本
npm --version
```

## 2. 数据库检查

### 2.1 数据库连接检查
```bash
# 检查数据库连接和表结构
cd backend && php artisan tinker --execute="echo 'Database connection: ' . DB::connection()->getDatabaseName() . PHP_EOL; echo 'Users count: ' . App\Models\User::count() . PHP_EOL; echo 'Accounts count: ' . App\Models\Account::count() . PHP_EOL;"
```

### 2.2 数据库配置检查
```bash
# 查看.env文件中的数据库配置
cat backend/.env | grep DB_
```

## 3. 服务启动检查

### 3.1 后端服务启动
```bash
# 启动后端服务
cd backend && php artisan serve

# 检查服务是否正常运行
curl -I http://127.0.0.1:8000
```

### 3.2 前端服务启动
```bash
# 安装依赖（如果尚未安装）
cd frontend && npm install

# 启动前端服务
cd frontend && npm run dev

# 检查服务是否正常运行
curl -I http://localhost:5173
```

## 4. API功能检查

### 4.1 用户注册测试
```bash
# 测试用户注册API
curl -v -X POST http://127.0.0.1:8000/api/register \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{"name":"API Test User","email":"api_test@example.com","password":"password123","password_confirmation":"password123"}'
```

### 4.2 用户登录测试
```bash
# 测试用户登录API
curl -v -X POST http://127.0.0.1:8000/api/login \
  -H "Content-Type: application/json" \
  -H "Accept: application/json" \
  -d '{"email":"api_test@example.com","password":"password123"}'
```

### 4.3 账户列表测试
```bash
# 使用登录后获得的token测试账户列表API
# 替换下面的TOKEN为实际获得的token
curl -X GET http://127.0.0.1:8000/api/accounts \
  -H "Authorization: Bearer TOKEN" \
  -H "Accept: application/json"
```

## 5. 前端界面检查

### 5.1 访问前端界面
```bash
# 打开浏览器访问前端应用
open http://localhost:5173
```

### 5.2 功能测试
1. 打开浏览器访问 http://localhost:5173
2. 尝试注册新用户
3. 使用注册的用户登录
4. 检查账户列表是否正确显示
5. 尝试添加新账户
6. 尝试编辑和删除账户

## 6. 常见问题排查

### 6.1 端口冲突
```bash
# 检查端口占用情况
lsof -i :8000
lsof -i :5173

# 如果需要，终止占用端口的进程
kill -9 <PID>
```

### 6.2 数据库问题
```bash
# 重新创建数据库
cd backend && php artisan migrate:fresh

# 运行数据填充
cd backend && php artisan db:seed
```

### 6.3 依赖问题
```bash
# 重新安装后端依赖
cd backend && composer install

# 重新安装前端依赖
cd frontend && rm -rf node_modules && npm install
```

## 7. 完整启动流程

### 7.1 启动顺序
1. 启动MySQL服务
2. 启动后端服务
3. 启动前端服务

### 7.2 验证顺序
1. 验证后端API
2. 验证前端界面
3. 验证前后端交互

通过以上检查方法，可以确保项目正确启动并正常运行。