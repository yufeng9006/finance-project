# 家庭财务管理系统 - 项目启动部署清单

## 1. 环境要求检查

### 1.1 后端环境

- [X]  PHP >= 8.1 (当前版本: 8.1.29)
- [X]  MySQL >= 8.0 (当前版本: 8.0.x)
- [X]  Composer
- [ ]  Laravel CLI (可选)

### 1.2 前端环境

- [ ]  Node.js >= 20.19.0 或 >= 22.12.0 (当前版本: 22.5.1 - 不符合要求)
- [X]  npm >= 6.0 (当前版本: 10.8.2)

## 2. 后端服务启动步骤

### 2.1 MySQL 数据库

- [X]  启动 MySQL 服务
- [X]  确认数据库 `home_finance_system` 已创建
- [X]  确认用户 `finance_user` 具有适当权限

### 2.2 Laravel 后端

- [X]  检查 `.env` 配置文件
- [X]  运行数据库迁移: `php artisan migrate`
- [X]  启动 Laravel 开发服务器: `php artisan serve`
- [X]  确认服务端口 (8000)

## 3. 前端服务启动步骤

### 3.1 依赖安装

- [X]  进入 frontend 目录: `cd frontend`
- [X]  安装依赖: `npm install`
- [X]  确保 `vite-plugin-vue-devtools` 已安装

### 3.2 启动开发服务器

- [X]  启动前端服务: `npm run dev`
- [X]  确认服务端口 (5173)

## 4. 系统验证

### 4.1 API 测试

- [X]  测试用户注册: `curl -X POST http://127.0.0.1:8000/api/register ...`
- [X]  测试用户登录: `curl -X POST http://127.0.0.1:8000/api/login ...`
- [X]  测试账户列表: `curl -X GET http://127.0.0.1:8000/api/accounts ...`

### 4.2 前端访问

- [X]  访问 http://localhost:5173
- [X]  测试用户注册/登录流程
- [X]  验证账户管理功能

## 5. 用户信息

系统中没有预设的管理员账户。用户需要通过前端界面或API注册新账户。

### 5.1 数据库连接信息

- 数据库名称: `home_finance_system`
- 数据库用户: `finance_user`
- 数据库密码: `secure_password`

### 5.2 已存在的测试用户

通过API创建的测试用户:

1. ID: 1, Name: Test User, Email: test@example.com
2. ID: 2, Name: Vue Test User, Email: vue@example.com
3. ID: 3, Name: Test User, Email: test3@example.com

注意：这些用户的密码是在创建时设置的，如test@example.com用户的密码为password123。

## 6. 常见问题及解决方案

### 6.1 端口冲突

- 如果 Laravel 服务不是运行在 8000 端口，需要更新前端代码中的 API_BASE_URL

### 6.2 Node.js 版本问题

- 当前 Node.js 版本 (22.5.1) 不满足 Vite 要求 (需要 20.19+ 或 22.12+)
- 建议升级 Node.js 版本

### 6.3 数据库连接问题

- 检查 `.env` 文件中的数据库配置
- 确保 MySQL 服务正在运行
- 确保数据库用户具有适当权限

## 7. 日常开发命令

### 7.1 后端常用命令

```bash
# 启动 Laravel 开发服务器
cd backend && php artisan serve

# 运行数据库迁移
cd backend && php artisan migrate

# 创建数据库（如果不存在）
cd backend && php artisan mysql:createdb

# 清空并重新运行所有迁移
cd backend && php artisan migrate:fresh

# 运行数据填充
cd backend && php artisan db:seed
```

### 7.2 前端常用命令

```bash
# 安装依赖
cd frontend && npm install

# 启动开发服务器
cd frontend && npm run dev

# 构建生产版本
cd frontend && npm run build
```

测试用户
test@example.com

用户的密码为password123
